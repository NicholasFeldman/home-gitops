apiVersion: argoproj.io/v1alpha1
kind: Application

metadata:
  name: kenobi-{{.Release.Namespace}}-telegraf-operator
  namespace: argocd

spec:
  destination:
    namespace: {{.Release.Namespace}}
    name: in-cluster
  project: kenobi
  source:
    chart: telegraf-operator
    repoURL: https://helm.influxdata.com/
    targetRevision: 1.3.4
    helm:
      releaseName: telegraf-operator
      values: |-
        classes:
          secretName: "telegraf-operator"
          default: "default"
          data: ~
